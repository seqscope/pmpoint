{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to pmpoint documentation","text":"<p>This is the documentation for the <code>pmpoint</code> toolkit. </p> <p>Warning</p> <p>This documentation is for an actively developed software package.</p> <p>Note that features and usage may change frequently.</p> <p>This documentation provides information for the tools available in the <code>main</code> branch of the repository. However, the <code>dev</code> branch may contain newer tools or features that are not yet documented here.</p>"},{"location":"#what-is-pmpoint","title":"What is pmpoint?","text":"<p><code>pmpoint</code> is a collection of C++ tools that are designed to help process, visualize, and analyze sub-micron resolution spatial transcriptomics data stored in PMTiles format such as Seq-Scope.  These tools are under active development, so they may change frequently. </p>"},{"location":"#documentation-overview","title":"Documentation Overview","text":"<p>This documentation provides the following information:</p> <ul> <li>Quickstart: A quick guide to get started with spatula.</li> <li>Install: How to install spatula.</li> <li>Tools: Documentation of individual tools implemented in spatula.</li> </ul>"},{"location":"install/","title":"Installing pmpoint","text":""},{"location":"install/#installing-pmpoint_1","title":"Installing pmpoint","text":"<p><code>pmpoint</code> contains <code>htslib</code> and <code>qgenlib</code> as submodules, so you need to clone the repository recursively to install the required libraries, and build the submodules before building the <code>pmpoint</code> package. An example instruction is given below.</p> <pre><code>## STEP 1 : CLONE THE REPOSITORY\n## clone the current snapshot of this repository\ngit clone --recursive https://github.com/seqscope/pmpoint.git\n\n## move to the pmpoint directory\ncd pmpoint\n\n## STEP 2 : BUILD THE SUBMODULES\n## move to the submodules directory\ncd submodules\n\n## build the submodules using build.sh script\nsh -x build.sh\n\n## move to the spatula directory\ncd ..\n\n## STEP 3 : BUILD SPATULA\n## create a build directory\nmkdir build\ncd build\n\n## Run cmake to configure the build\ncmake ..\n\n## Build the spatula package\nmake\n</code></pre> <p>If <code>cmake</code> is not found, you need to install cmake in your system.</p>"},{"location":"install/#optional-customized-specification-of-the-library-path","title":"(Optional) Customized specification of the library path","text":"<p>In case any required libraries is missing in <code>cmake</code>, you may specify customized installing path by replacing \"cmake ..\" with the following options:</p> <pre><code>## If qgenlib is missing or installed in a different directory\n$ cmake -DQGEN_INCLUDE_DIRS=/qgenlib_absolute_path/include\n        -DHTS_LIBRARIES=/qgenlib_absolute_path/lib/libqgen.a ..\n\n## If htslib is missing or installed in a different directory\n$ cmake -DHTS_INCLUDE_DIRS=/htslib_absolute_path/include/  \\\n        -DHTS_LIBRARIES=/htslib_absolute_path/libhts.a ..\n\n## If bzip2 is missing or installed in a different directory\n$ cmake -DBZIP2_INCLUDE_DIRS=/bzip2_absolute_path/include/ \\\n        -DBZIP2_LIBRARIES=/bzip2_absolute_path/lib/libbz2.a ..\n\n## If lzma is missing or installed in a different directory\n$ cmake -DLZMA_INCLUDE_DIRS=/lzma_absolute_path/include/ \\\n        -DLZMA_LIBRARIES=/lzma_absolute_path/lib/liblzma.a ..\n\n## You may combine the multiples options above if needed.\n## Other missing libraries can be handled in a similar way.\n</code></pre>"},{"location":"install/#testing-spatula","title":"Testing spatula","text":"<p>To test whether build was successful, you can run the following command:</p> <pre><code>## Current directory: /path/to/install/spatula/build\n$ ../bin/pmpoint --help\n</code></pre>"},{"location":"quickstart/","title":"Quickstart for pmpoint","text":""},{"location":"quickstart/#installing-pmpoint","title":"Installing pmpoint","text":"<p>Please follow the instruction below to install <code>pmpoint</code></p> <pre><code>git clone --recursive https://github.com/seqscope/pmpoint.git\ncd pmpoint\ncd submodules\nsh -x build.sh\ncd ..\nmkdir build\ncd build\ncmake ..\nmake\n</code></pre>"},{"location":"quickstart/#list-available-tools","title":"List available tools","text":"<p>To list the available tools, run the following command:</p> <pre><code>../bin/pmpoint --help\n</code></pre> <p>If you encounter any difficulties, see Install for more details.</p>"},{"location":"tools/","title":"Tools in pmpoint","text":"<p><code>pmpoint</code> is a collection of C++ tools that are designed to help process, visualize, and analyze sub-micron resolution spatial transcriptomics data stored in PMTiles format.  The categories of software tools provided includes:</p> <ul> <li>PMTiles Tools</li> <li><code>pmpoint export</code>: Extract pixel-level point data from a PMTiles file with spatial filtering options.</li> <li><code>pmpoint summarize</code>: Summarize the contents of a PMTiles file, including header information, metadata, and tile statistics.</li> <li><code>pmpoint count-tiles</code>: Count the number of points in each tile from a PMTiles file, optionally filtering by zoom level.</li> <li><code>pmpoint tile-density-stats</code> and <code>pmpoint tile-density-stats-mt</code>: Compute the 2D spatial density statistics in square grids for each tile in a PMTiles file</li> </ul> <p>Note</p> <p>This documentation contains only a subset of primary tools implemented <code>pmpoint</code>. Other tools not documented here are considered non-primary tools that have limited support, and they are NOT supported officially.</p>"},{"location":"tools/count_tiles/","title":"pmpoint count-tiles","text":""},{"location":"tools/count_tiles/#summary","title":"Summary","text":"<p><code>pmpoint count-tiles</code> counts the number of points in each tile from a PMTiles file, optionally filtering by zoom level.</p> <p>An example command is given below:</p> <pre><code>## Example command to count tiles a remote PMTiles file at zoom level 14\npmpoint count-tiles --in https://cartostore.s3.us-east-1.amazonaws.com/data/batch=2025_12/mouse-brain-test-collection/subdata_seqscope_n17t89b_c1d2f/genes_all.pmtiles --out-tsv out.count_tiles.z15.tsv.gz --zoom 15\n</code></pre>"},{"location":"tools/count_tiles/#required-options","title":"Required options","text":"<ul> <li><code>--in</code>: Input PMTiles file. The file can be either local file or a URL to a remote file (supports HTTP/HTTPS).</li> <li><code>--out-tsv</code>: Output TSV file to store the tile counts.</li> </ul>"},{"location":"tools/count_tiles/#additional-options","title":"Additional Options","text":"<ul> <li><code>--zoom</code>: Zoom level to count tiles. Default is -1, which counts tiles from all zoom levels. If a specific zoom level is provided, only tiles from that zoom level will be counted.</li> </ul>"},{"location":"tools/count_tiles/#expected-output","title":"Expected Output","text":"<p>The output TSV file contains the following columns: * <code>zoom</code>: Zoom level of the tile. * <code>x</code>: X (integer) coordinate of the tile according to the PMTiles specification. * <code>y</code>: Y (integer) coordinate of the tile according to the PMTiles specification. * <code>tile_id</code> : A 64-bit unique identifier for the tile, according to the PMTiles specification. * <code>tile_count</code>: Number of points in the tile. * <code>total_count</code>: (Available when counting all zoom levels) Total number of points from all its descendant tiles without subsampling. * <code>frac_in_tile</code>: (Available when counting all zoom levels) Fraction of points in the tile compared to the <code>total_count</code>.</p>"},{"location":"tools/count_tiles/#full-usage","title":"Full Usage","text":"<p>The full usage of <code>pmpoint count-tiles</code> can be viewed with the <code>--help</code> option:</p> <pre><code>$ ./pmpoint count-tiles --help\n[bin/pmpoint count-tiles] -- Count number of points in each tiles from a PMTiles file\n\n Copyright (c) 2022-2025 by Hyun Min Kang\n Licensed under the Apache License v2.0 http://www.apache.org/licenses/\n\nDetailed instructions of parameters are available. Ones with \"[]\" are in effect:\n\nAvailable Options:\n\n== Input options ==\n   --in      [STR: ]             : Input PMTiles file\n\n== Output options ==\n   --out-tsv [STR: ]             : Output TSV file\n\n== Filtering options ==\n   --zoom    [INT: -1]           : Zoom level (default: -1 -- all zoom levels)\n\n\nNOTES:\nWhen --help was included in the argument. The program prints the help message but do not actually run\n</code></pre>"},{"location":"tools/export/","title":"pmpoint export","text":""},{"location":"tools/export/#summary","title":"Summary","text":"<p><code>pmpoint export</code> extracts pixel-level point data stored from a PMTiles files, allowing to spatially filter the data by bounding box or polygon.</p> <p>An example command is given below:</p> <pre><code>pmpoint export --in https://cartostore.s3.us-east-1.amazonaws.com/data/batch=2025_12/mouse-brain-test-collection/subdata_seqscope_n17t89b_c1d2f/genes_all.pmtiles --out-tsv out.tsv.gz --zoom 15 --xmin 500 --xmax 600 --ymin 500 --ymax 600\n</code></pre>"},{"location":"tools/export/#required-options","title":"Required options","text":"<ul> <li><code>--in</code>: Input PMTiles file. The file can be either local file or a URL to a remote file (supports HTTP/HTTPS).</li> <li><code>--out-tsv</code>: Output TSV file to store the extracted points.</li> <li><code>--out-json</code>: Output JSON file to store the extracted points.</li> </ul> <p>Either <code>--out-tsv</code> or <code>--out-json</code> should be provided.</p>"},{"location":"tools/export/#additional-options","title":"Additional Options","text":"<ul> <li><code>--zoom</code>: Zoom level to extract points. Default is -1, which extracts points from the highest zoom level.</li> <li><code>--xmin</code>: Minimum x-axis value for filtering points. Default is -inf (no filtering).</li> <li><code>--xmax</code>: Maximum x-axis value for filtering points. Default is inf (no filtering).</li> <li><code>--ymin</code>: Minimum y-axis value for filtering points. Default is -inf (no filtering).</li> <li><code>--ymax</code>: Maximum y-axis value for filtering points. Default is inf (no filtering).</li> <li><code>--polygon</code>: GeoJSON file (in EPSG:3857) for polygon-based filtering. Points within the polygon will be extracted.</li> <li><code>--precision</code>: Precision of the output of X/Y coordinates below decimal points (default: 3).</li> </ul>"},{"location":"tools/export/#expected-output","title":"Expected Output","text":"<p>The output TSV file contains all the extracted points in tabular format with columns for X, Y, gene/feature name, and count, and additional fields such as factor names (typically <code>[factor_name]_K1</code>) and the corresponding posterior probabilities (typically <code>[factor_name]_P1</code>) if available.</p>"},{"location":"tools/export/#full-usage","title":"Full Usage","text":"<p>The full usage of <code>pmpoint export</code> can be viewed with the <code>--help</code> option:</p> <pre><code>$ .//pmpoint export --help\n[bin/pmpoint export] -- Extract points from a PMTIles file\n\n Copyright (c) 2022-2025 by Hyun Min Kang\n Licensed under the Apache License v2.0 http://www.apache.org/licenses/\n\nDetailed instructions of parameters are available. Ones with \"[]\" are in effect:\n\nAvailable Options:\n\n== Input options ==\n   --in        [STR: ]             : Input PMTiles file\n\n== Output options ==\n   --out-tsv   [STR: ]             : Output TSV file\n   --out-json  [STR: ]             : Output JSON file\n\n== Filtering options ==\n   --zoom      [INT: -1]           : Zoom level (default: -1 -- maximum zoom level)\n   --xmin      [FLT: -inf]         : Minimum x-axis value\n   --xmax      [FLT: inf]          : Maximum x-axis value\n   --ymin      [FLT: -inf]         : Minimum y-axis value\n   --ymax      [FLT: inf]          : Maximum y-axis value\n   --polygon   [STR: ]             : GeoJSON file (in EPSG:3857) for polygon-based filtering\n\n== Additional options ==\n   --precision [INT: 3]            : Precision of the output of X/Y coordinates (default: 3)\n\n\nNOTES:\nWhen --help was included in the argument. The program prints the help message but do not actually run\n</code></pre>"},{"location":"tools/summarize/","title":"pmpoint summarize","text":""},{"location":"tools/summarize/#summary","title":"Summary","text":"<p><code>pmpoint summarize</code> provides a summary of the contents of a PMTiles file, including header information, metadata, and tile statistics.</p> <p>An example command is given below:</p> <pre><code>## Example command to summarize a PMTiles file\npmpoint summarize --in https://cartostore.s3.us-east-1.amazonaws.com/data/batch=2025_12/mouse-brain-test-collection/subdata_seqscope_n17t89b_c1d2f/genes_all.pmtiles --all\n</code></pre>"},{"location":"tools/summarize/#required-options","title":"Required options","text":"<ul> <li><code>--in</code>: Input PMTiles file. This can be a local file or a URL to a remote file (supports HTTP/HTTPS).</li> </ul>"},{"location":"tools/summarize/#additional-options","title":"Additional Options","text":"<ul> <li><code>--all</code>: Show all information (equivalent to <code>--hdr</code>, <code>--meta</code>, and <code>--tile</code>).</li> <li><code>--hdr</code>: Show header information.</li> <li><code>--meta</code>: Show metadata information.</li> <li><code>--tile</code>: Show tile information.</li> </ul>"},{"location":"tools/summarize/#expected-output","title":"Expected Output","text":"<p>With <code>--hdr</code> option, it displays the header information of the offsets of various sections in the PMTiles file, number of tiles, zoom levels, and the coordinate range covered.</p> <p>With <code>--meta</code> option, it displays the metadata stored in the PMTiles file, which is typically in JSON format.</p> <p>With <code>--tile</code> option, it provides basic statistics about the tiles in the PMTiles file, such as the offsets to the tile and the size of each tile.</p>"},{"location":"tools/summarize/#full-usage","title":"Full Usage","text":"<p>The full usage of <code>pmpoint summerize</code> can be viewed with the <code>--help</code> option:</p> <pre><code>$ ./pmpoint summarize --help\n[bin/pmpoint summarize] -- Summarize a PMTIles file\n\n Copyright (c) 2022-2025 by Hyun Min Kang\n Licensed under the Apache License v2.0 http://www.apache.org/licenses/\n\nDetailed instructions of parameters are available. Ones with \"[]\" are in effect:\n\nAvailable Options:\n\n== Input options ==\n   --in   [STR: ]             : Input PMTiles file\n\n== Items to show ==\n   --all  [FLG: OFF]          : Show all information (equivalent to --hdr --meta --tile)\n   --hdr  [FLG: OFF]          : Show header information\n   --meta [FLG: OFF]          : Show metadata information\n   --tile [FLG: OFF]          : Show tile information\n\n\nNOTES:\nWhen --help was included in the argument. The program prints the help message but do not actually run\n</code></pre>"},{"location":"tools/tile_density_stats/","title":"pmpoint tile-density-stats","text":""},{"location":"tools/tile_density_stats/#summary","title":"Summary","text":"<p><code>pmpoint tile-density-stats</code> and <code>pmpoint tile-density-stats-mt</code> computes the 2D spatial density statistics in square grids for each tile in a PMTiles file. The latter is a multi-threaded version that can process multiple tiles in parallel.</p> <p>An example command is given below:</p> <pre><code>## Example command to count tiles a remote PMTiles file at zoom level 14\npmpoint tile-density-stats-mt --in https://cartostore.s3.us-east-1.amazonaws.com/data/batch=2025_12/mouse-brain-test-collection/subdata_seqscope_n17t89b_c1d2f/genes_all.pmtiles --count count --out out.tsv.gz --zoom 15 --threads 10\n</code></pre>"},{"location":"tools/tile_density_stats/#required-options","title":"Required options","text":"<ul> <li><code>--in</code>: Input PMTiles file. The file can be either local file or a URL to a remote file (supports HTTP/HTTPS).</li> <li><code>--out-tsv</code>: Output TSV file to store the tile counts.</li> </ul>"},{"location":"tools/tile_density_stats/#additional-options","title":"Additional Options","text":"<ul> <li><code>--count</code>: Field name for transcript counts in the PMTiles file. Default is <code>count</code>.</li> <li><code>--feature</code>: Field name for feature name in the PMTiles file. Default is <code>gene</code>.</li> <li><code>--compact</code>: If set, skips writing each tile, and only report aggregated density metrics across all zoom levels.</li> <li><code>--zoom</code>: Zoom level to count tiles. Default is -1, which counts density metrics for the highest zoom level. If a specific zoom level is provided, only tiles from that zoom level will be counted.</li> </ul>"},{"location":"tools/tile_density_stats/#expected-output","title":"Expected Output","text":"<p>The output TSV file contains the following columns: * <code>zoom</code>: Zoom level of the tile. * <code>tile_x</code>: X (integer) coordinate of the tile according to the PMTiles specification. * <code>tile_y</code>: Y (integer) coordinate of the tile according to the PMTiles specification. * <code>width</code> : The width (in the lowest pixel resolution in the zoom level) of square grids  * <code>num_pts</code>: Number of points contained in the square grid (considered as the key of histogram bin). * <code>num_grids</code>: Number of square grids that contain <code>num_pts</code> points. </p>"},{"location":"tools/tile_density_stats/#full-usage","title":"Full Usage","text":"<p>The full usage of <code>pmpoint count-tiles</code> can be viewed with the <code>--help</code> option:</p> <pre><code>$ ./pmpoint tile-density-stats-mt --help \n[bin/pmpoint tile-density-stats-mt] -- Calculate statistics of tile densities\n\n Copyright (c) 2022-2025 by Hyun Min Kang\n Licensed under the Apache License v2.0 http://www.apache.org/licenses/\n\nDetailed instructions of parameters are available. Ones with \"[]\" are in effect:\n\nAvailable Options:\n\n== Input options ==\n   --in      [STR: ]             : Input PMTiles file\n   --count   [STR: gn]           : Field name for transcript counts\n   --feature [STR: gene]         : Field name for feature name\n\n== Output options ==\n   --compact [FLG: OFF]          : Skip writing each tile\n   --out     [STR: ]             : Output TSV file\n\n== Filtering options ==\n   --zoom    [INT: -1]           : Zoom level (default: -1 -- maximum zoom level)\n\n== Performance options ==\n   --threads [INT: 0]            : Number of threads (default: hardware concurrency)\n\n\nNOTES:\nWhen --help was included in the argument. The program prints the help message but do not actually run\n</code></pre>"}]}